<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- SEO/Meta/Og/트위터 카드 한글 최적화 예시 -->
<meta name="description" content="SmartPick는 1~3등 당첨번호 제외, 신뢰도 높은 로또 번호 추천, 맞춤 필터, 통계 서비스를 제공합니다.">
<meta name="keywords" content="로또, 로또번호추천, SmartPick, 번호생성, 필터, 통계, 분석">
<meta name="author" content="SmartPick Team">

<!-- 오픈그래프 -->
<meta property="og:title" content="SmartPick - 1~3등 제외 로또 번호 추천" />
<meta property="og:description" content="과거 당첨 조합과 겹치지 않는, 신뢰도 높은 맞춤형 추천 서비스" />
<meta property="og:image" content="https://smartpick.wow-daddy.com/images/og_smartpick.png" />
<meta property="og:url" content="https://smartpick.wow-daddy.com/" />
<meta property="og:type" content="website" />

<!-- 트위터 카드 -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="SmartPick - 1~3등 제외 로또 번호 추천" />
<meta name="twitter:description" content="당첨번호 자동제외, 최신 인기번호, 고급 통계까지 한 번에!" />
<meta name="twitter:image" content="https://smartpick.wow-daddy.com/images/og_smartpick.png" />

  <meta charset="UTF-8">
  <title>SmartPick 고급 조건 추천</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { background:#f8fafd; font-family:'Pretendard', Arial, sans-serif; margin:0;}
    .container { max-width:430px; margin:50px auto; background:#fff; border-radius:2em; box-shadow:0 6px 36px #22325620; padding:2.8em 2em 2.2em 2em; text-align:center; }
    h1 { font-size:2em; font-weight:900; color:#222; margin-bottom:0.1em;}
    .subtitle { color:#666; font-size:1.08em; margin-bottom:1.8em;}
    form { margin-bottom:2em; }
    label, select, input[type="text"] {
      font-size:1.1em; margin-bottom:0.6em; display:inline-block;
    }
    select, input[type="text"] {
      border-radius:0.8em; border:1px solid #ccc; padding:0.35em 0.7em;
      margin-left:5px; margin-right:12px; margin-bottom:0.9em;
    }
    .form-row { margin-bottom:1.3em; }
    button, .copy-btn {
      font-size:1.14em; font-weight:bold; background:#3a5df0;
      color:#fff; border:none; border-radius:1.1em;
      padding:0.8em 2.1em; box-shadow:0 2px 10px #4361ee22;
      margin-top:0.8em; cursor:pointer; transition:.2s;
    }
    button:hover, .copy-btn:hover { background:#2642b2;}
    .lotto { margin:2.3em 0 0.7em 0;}
    .ball {
      display:inline-block;width:42px;height:42px;line-height:42px;
      border-radius:50%;margin:0 5px 7px 5px;font-size:1.24em;
      font-weight:600;color:#fff;background:#4361ee;
      box-shadow:0 2px 8px #0001; transition:.13s;
      border:2.5px solid #fff;
    }
    .desc { color:#6c7a89; font-size:0.98em; margin-bottom:1.5em;}
    .error { color:#c22; margin-top:1.2em; }
    @media (max-width:500px){
      .container { max-width:97vw; margin:13vw 2vw; padding:2em 0.2em; }
      h1 { font-size:1.15em;}
      .subtitle { font-size:0.92em;}
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>SmartPick 고급 조건 추천</h1>
    <div class="subtitle">원하는 조건을 직접 선택해<br>더 안전한 맞춤 추천번호를 받아보세요</div>
    <form method="post">
      <div class="form-row">
        <b>제외할 당첨번호 등수:</b><br>
        <label><input type="checkbox" name="exclude_ranks" value="1" {% if '1' in form.get('exclude_ranks', []) %}checked{% endif %}> 1등</label>
        <label><input type="checkbox" name="exclude_ranks" value="2" {% if '2' in form.get('exclude_ranks', []) %}checked{% endif %}> 2등</label>
        <label><input type="checkbox" name="exclude_ranks" value="3" {% if '3' in form.get('exclude_ranks', []) %}checked{% endif %}> 3등</label>
      </div>
      <div class="form-row">
        <b>최근 많이 나온 번호 제외:</b>
        <select name="exclude_hot_n">
          <option value="">--선택안함--</option>
          <option value="5" {% if form.get('exclude_hot_n', '')=='5' %}selected{% endif %}>5회</option>
          <option value="10" {% if form.get('exclude_hot_n', '')=='10' %}selected{% endif %}>10회</option>
          <option value="20" {% if form.get('exclude_hot_n', '')=='20' %}selected{% endif %}>20회</option>
        </select>
      </div>
      <div class="form-row">
        <b>연속번호 제외:</b>
        <select name="exclude_consecutive">
          <option value="">--선택안함--</option>
          <option value="2" {% if form.get('exclude_consecutive', '')=='2' %}selected{% endif %}>2연속</option>
          <option value="3" {% if form.get('exclude_consecutive', '')=='3' %}selected{% endif %}>3연속</option>
          <option value="4" {% if form.get('exclude_consecutive', '')=='4' %}selected{% endif %}>4연속</option>
        </select>
      </div>
      <div class="form-row">
        <b>제외할 번호(쉼표구분):</b>
        <input type="text" name="user_exclude" value="{{form.get('user_exclude','')}}" placeholder="예: 1,3,5">
      </div>
      <div class="form-row">
        <b>고정할 번호(1개만 가능):</b>
        <input type="text" name="user_include" value="{{form.get('user_include','')}}" placeholder="예: 7">
      </div>
      <div class="form-row">
        <b>추천개수:</b>
        <select name="count">
          <option value="5" {% if form.get('count','')=='5' %}selected{% endif %}>5개</option>
          <option value="10" {% if form.get('count','')=='10' %}selected{% endif %}>10개</option>
          <option value="15" {% if form.get('count','')=='15' %}selected{% endif %}>15개</option>
          <option value="20" {% if form.get('count','')=='20' %}selected{% endif %}>20개</option>
        </select>
      </div>
      <button type="submit">고급 조건 추천받기</button>
    </form>
    {% if numbers %}
      <h3>추천 번호 세트</h3>
      <div class="lotto" id="lotto_result">
        {% for row in numbers %}
          <div style="margin-bottom:7px;">
            {% for n in row %}
              <span class="ball">{{ n }}</span>
            {% endfor %}
          </div>
        {% endfor %}
      </div>
      <button class="copy-btn" onclick="copyLotto()">추천 번호 복사</button>
      <script>
        function copyLotto() {
          let txt = Array.from(document.querySelectorAll('#lotto_result .ball')).map(e => e.textContent).join(', ');
          navigator.clipboard.writeText(txt)
            .then(()=>alert("복사 완료: " + txt))
            .catch(()=>alert("복사 실패!"));
        }
      </script>
    {% endif %}
    {% if error %}<div class="error">{{ error }}</div>{% endif %}
    <div class="desc"><a href="/">무료 추천으로 돌아가기</a></div>
  </div>
</body>
</html>
